---
layout: base.njk
---

<div class="min-h-screen flex flex-col md:flex-row">
  <!-- Sidebar -->
  <aside class="relative md:fixed bg-white/[0.01] backdrop-blur-xl md:sticky md:top-0 sidebar-width p-4 back-nav z-40 md:h-screen flex flex-col">
    <div class="flex flex-col flex-1 min-h-0">
      <div class="mt-0">
        <!-- Back Button -->
        <button 
          onclick="handleBack()"
          class="flex items-center gap-2 text-[#333333] hover:text-[#001EFF] font-baskerville text-[1rem] transition-colors"
          aria-label="Go back to previous page"
        >
          <span aria-hidden="true">←</span>
          <span>back</span>
        </button>

        <!-- Collection Type -->
        <div class="mt-8">
          <div class="text-black text-[0.75rem] font-italic font-baskerville italic underline leading-6">
            collection
          </div>
        </div>
      </div>
    </div>
  </aside>

  <!-- Main Content -->
  <main class="flex-1 p-8 md:px-20 pt-16 pb-16">
    <div class="max-w-[75rem] mx-auto">
      <header class="pb-6 border-b border-[#C0C0C0]">
        <h1 class="page-header w-full text-[2rem] font-manrope font-semibold">{{ title }}</h1>
        <p class="text-black font-baskerville text-[1rem] leading-7">{{ description }}</p>
      </header>

      <section class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 mt-8">
        {% for item in items %}
          <div class="bg-[#f9f9f9] p-4 rounded-lg shadow hover:shadow-lg transition-shadow">
            {% if item.type == "link" %}
              <!-- Link Preview -->
              <a href="{{ item.content }}" target="_blank" rel="noopener noreferrer" class="block">
                <div class="aspect-w-16 aspect-h-9 overflow-hidden rounded-md bg-gray-200">
                    <img 
                    src="{{ linkPreviewImage[loop.index0] }}" 
                    alt="Preview for {{ item.content }}" 
                    class="w-full h-40 object-cover rounded"
                    />
                </div>
                <p class="mt-2 text-sm font-manrope text-[#001EFF] underline break-words">{{ item.content }}</p>
              </a>

            {% elseif item.type == "image" %}
              <!-- Image Display -->
              <img src="{{ item.content }}" alt="Collection image" class="w-full h-auto rounded-md">

            {% elseif item.type == "snippet" %}
              <!-- Text Snippet -->
              <blockquote class="italic text-black font-baskerville text-sm leading-6">
                {{ item.content }}
                {% if item.note %}
                  <span class="block mt-2 text-xs text-[#666666]">— {{ item.note }}</span>
                {% endif %}
              </blockquote>
            {% endif %}
          </div>
        {% endfor %}
      </section>
    </div>
  </main>
</div>

<script>
  function handleBack() {
    const previousPage = document.referrer;
    const homeUrl = '/';
    
    if (previousPage && previousPage.includes(window.location.origin)) {
      history.back();
    } else {
      window.location.href = homeUrl;
    }
  }
</script>
