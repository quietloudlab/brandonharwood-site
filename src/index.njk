<section class="hero text-center py-8">
  <h1 class="text-4xl font-bold">this is a website where brandon harwood can make things and break things</h1>

  <!-- Navigation Menu -->
  <nav class="menu mt-6">
    <ul class="flex justify-center space-x-6">
      <li><a href="#" class="filter-link" data-filter="weblogs">weblogs</a></li>
      <li><a href="#" class="filter-link" data-filter="built-things">built things</a></li>
      <li><a href="#" class="filter-link" data-filter="collections">collections</a></li>
      <li><a href="#" class="filter-link" data-filter="questions">questions</a></li>
      <li><a href="#" class="filter-link" data-filter="weird-interactions">weird interactions</a></li>
      <li><a href="#" id="about-link">about</a></li>
    </ul>
  </nav>

  <!-- Expanding About Section -->
  <div id="about-section" class="hidden mt-6">
    <p>
      it’s a place for weblogs, built things, collections, questions, and weird interactions.<br>
      it’s also <a href="https://bah.design" class="underline">not my portfolio</a>.  
      subscribe via <a href="/rss" class="underline">RSS</a> or <a href="/email" class="underline">Email</a>.
    </p>
  </div>

  <!-- Search Input -->
  <input type="text" id="search-input" placeholder="Search the feed..." 
         class="border p-2 w-full mt-6 max-w-lg mx-auto block" />
</section>

<!-- Feed Section -->
<section id="feed" class="mt-8 grid gap-8 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3">
  {% for post in collections.allPosts %}
    <article class="post-card" data-type="{{ post.data.type }}" data-tags="{{ post.data.tags | join: ' ' }}">
  <h2 class="text-2xl font-bold"><a href="{{ post.url }}">{{ post.data.title }}</a></h2>
  
  {% if post.data.type == 'weblogs' %}
    <p>{{ post.data.description }}</p>
    <p class="text-sm text-gray-600">Tags: {{ post.data.tags | join(', ') }}</p>
  
  {% elseif post.data.type == 'built-things' %}
    <p>{{ post.data.description }}</p>
    <a href="{{ post.data.link }}" target="_blank" class="underline text-blue-600">
      View Experiment {% if post.data.external %}(External){% endif %}
    </a>

  {% elseif post.data.type == 'collections' %}
    <p>{{ post.data.description }}</p>
    <ul>
      {% for item in post.data.items %}
        <li><a href="{{ item.link }}" target="_blank">{{ item.title }}</a> - {{ item.description }}</li>
      {% endfor %}
    </ul>
  
  {% elseif post.data.type == 'questions' %}
    <blockquote class="italic">"{{ post.data.description }}"</blockquote>
    <a href="{{ post.url }}" class="underline text-blue-600">Read Response</a>
  
  {% elseif post.data.type == 'weird-interactions' %}
    <p>{{ post.data.description }}</p>
    <button class="interaction-button" data-interaction="{{ post.data.interaction }}">Try It</button>
  {% endif %}
</article>

  {% endfor %}
</section>

<script>
  // Handle "About" Section Toggle
  document.getElementById('about-link').addEventListener('click', function(e) {
    e.preventDefault();
    document.getElementById('about-section').classList.toggle('hidden');
  });

  // Filter Posts by Type
  document.querySelectorAll('.filter-link').forEach(link => {
    link.addEventListener('click', function(e) {
      e.preventDefault();
      const filter = this.dataset.filter;
      document.querySelectorAll('.post-card').forEach(card => {
        if (filter === 'all' || card.dataset.type === filter) {
          card.style.display = 'block';
        } else {
          card.style.display = 'none';
        }
      });
    });
  });

  // Simple Client-Side Search
  document.getElementById('search-input').addEventListener('input', function() {
    const query = this.value.toLowerCase();
    document.querySelectorAll('.post-card').forEach(card => {
      const content = card.textContent.toLowerCase();
      card.style.display = content.includes(query) ? 'block' : 'none';
    });
  });
</script>
